---
面试记录
---

#### 比心一面

1. Gradle 自定义了哪些 Task？
2. 编译优化做过哪些？
3. HashMap 1.7/1.8 的变化
4. ConcurrentHashMap
5. Java 泛型擦除
6. 项目中的性能优化
7. Activity、Window、View 三者的关系
8. 模块化/插件化
9. 热修复的原理
10. 项目中加载一张大图
11. SurfaceView
12. Kotlin 比 Java 好哪些？
13. 自定义 LinearLayout 怎么做？
14. WebView 加载优化？

#### 比心二面

聊项目。

#### 猫眼一面

1. 手百做了哪些东西，遇到哪些问题
2. Android 端的通信机制（进程间通信、线程间通信方式）
3. ANR 的处理方式

#### 猫眼二面

纯聊天～

#### 哔哩哔哩一面

大多和个人项目有关，八股文基本上没咋问。

1. 项目相关
2. 类加载器
3. 大图加载
4. //... 还有一些忘了

#### 哔哩哔哩二面

1. 项目相关
2. Choreagrapher 相关
2. View 绘制流程
2. Window、Surface、View 的关系
2. 硬件加速
2. requestLayout、invalidate 的区别
2. 事件分发、滑动冲突的处理
2. 在 Activity 中获取 View 的宽高的方式，post 后为啥可以获取到 View 的宽高了呢
2. LeakCanary 的实现原理
2. Retrofit 的实现原理（不会
2. 网络的强弱缓存（强缓存和协商缓存）
2. Object 里面的一些方法
2. 获取 Class 对象的几种方法
2. 异常的理解，异常类之间的继承关系

#### 哔哩哔哩三面

1. 从零做一个业务，大致的流程是咋样的（背景、目标用户、业务指标、精细化运营）
2. JVM 内存模型、内存区域、GC 算法、JVM 调参
3. 系统或者厂商魔改导致的崩溃，该如何处理
4. Dialog dismiss 加一个打点，怎么做？

#### 哔哩哔哩四面

1. 聊项目聊业务
2. 搜索框输入，联想功能是怎么做的、网络请求是怎么对得上的
3. 谈谈自己的优势
4. 对 Kotlin 的理解

#### 蔚来一面

1. 项目相关
2. Activity 中的三种动画，优缺点、适用场景
3. 泛型的理解、桥接方法
4. JVM 内存布局、GC
5. HashMap、hashCode 和 equals 方法
6. 原子类的实现原理
7. Java 锁升级过程
8. volatile 实现原理、内存屏障
9. JVM 类加载过程、\<clinit> 方法
10. View 渲染流程
11. Activity 的启动流程
12. Activity onCreate 里面获取 View 的宽高
13. Handler、IdleHandler、Looper 为啥没有导致卡顿
14. 卡顿处理、监控
15. App 架构、组件化、组件间通信
16. Kotlin 里的空安全怎么实现的
17. Gradle Plugin
18. 内存优化、内存泄露、LeakCanary
19. 图片管理
20. 项目中印象比较深刻的地方

#### 蔚来二面

1. 项目相关
2. 卡顿
3. 崩溃、ANR
4. Gradle 构建优化
5. MVC、MVP 的理解

#### 蔚来三面

1. 项目相关

#### 快手一面

1. 项目相关
2. Gradle Plugin
3. 事件分发
4. View 设置 gone 的流程、requestLayout、invalidate
5. 帧率的检测
6. 跨 Activity 传 Bitmap、传大 Bitmap 怎么做
7. 线程池的参数
8. Binder
9. Task 依赖关系，怎么判断存在循环依赖

#### 快手二面

1. 项目相关
2. MotionEvent Action_CANCEL 怎么触发的？
3. TCP 的慢启动
4. HTTP 的协议、请求头里面有啥、keep-alive 的理解？
5. 视频聊天会用到 HTTP 的哪些特性，数据流怎么传递到对端的？
6. Android 签名（从我的博客里面岁随便挑的一篇）
7. 大图的加载

#### 快手三面

1. 项目相关
2. 快排的思路
3. 树的广度优先遍历和深度优先遍历
4. 图的遍历
5. 完全二叉树插入一个节点继续保持完全二叉树的状态

#### 字节鸡架一面

1. 项目相关
2. 内存泄露、LeakCanary、Android Profile
3. FPS 的检测、卡顿优化
4. 启动优化
5. 遇到哪些 ANR 问题、ANR 监控、ANR 弹窗是哪个进程弹出来的呢？SharedPreferences 为啥会导致 ANR？那怎么去解决呢？
6. Java 反射的实现原理
7. 线程池原理、线程池设置线程的优先级
8. synchronized 的实现原理
9. JVM 对象内存布局
10. View 绘制流程
11. Binder 机制
12. 插件化原理、插件和宿主的有重名类的怎么办？插件和宿主的有重名的 so 库怎么办？
13. 二叉树的路径总和 || 

#### 字节鸡架二面

1. 热修复的实现原理
2. 包体积优化、so 库的优化、代码层面的优化、Proguard 了解哪些参数配置
3. Kotlin 的扩展方法，在字节码层面是怎么实现的？
4. SP ANR 的原因？commit 和 apply 都会存在 ANR 嘛？异步 commit 会有啥问题？SP 写入的时候怎么保证不会有脏数据？怎么做到 xml 增量写入呢？提前写？
5. Gradle 插件、ASM 用过吗？方法耗时怎么做的？如果抛异常了怎么样？系统方法的耗时怎么插桩，比如 context.getSP？
6. 崩溃的解决？遇到哪些崩溃比较难解决的？
7. synchronized 怎么使用？实现原理？死锁是怎么样的场景？
8. 两个对象互相引用，会不会被回收？GCRoot 有哪些东西？GC 的时候方法没有执行完，那些虚拟机栈里面的局部变量表里面的对象算不算 GCRoot 对象？
9. 不用 CountdownLatch 怎么来做线程同步？一个线程等待三个线程执行完成怎么做？优化空间？
10. 两个线程交替打印奇偶数

#### 字节鸡架三面

1. 项目相关，自己做的项目的核心竞争力是什么？
2. 矢量图 SVG 是怎么渲染的？
3. 渲染流程、View 是怎么会绘制到屏幕上、硬件加速怎么实现的
4. 绘制 View 倒影的框架，给一个 View 返回一个 View
5. View Inflate 时间比较长，怎么去优化？过度绘制怎么监控，确定是哪些控件导致了过度绘制？x2c 原理？
6. 多语言加载，用户选择对应的语言去下载然后更改 app 语言。
7. 把本地的图片动态加载，怎么去设计？怎么确定哪些图片能做离线化哪些不行呢？
8. 页面的动态化框架怎么去做？支持不同事件处理的动态化框架怎么做？
9. 编译优化做了哪些东西？增量编译有哪些优化手段？
10. OOM 怎么去优化、Handler 内存泄漏引用链是怎么样的，从哪里到哪里？内存抖动怎么监控？
11. 图片的不同格式（png、jpeg）会影响 Bitmap 内存嘛？
12. 有遇到比较难的 ANR 或者崩溃嘛？
13. nativePoolOnce 这种 ANR 遇到过嘛？有啥解决思路。
14. ViewGroup 遍历 View 时候发现数组越界，崩溃堆栈是系统堆栈，遇到这种问题怎么解决？
15. 单链表快排

#### 字节飞书一面

1. 项目相关
2. 硬件加速的实现原理
3. View 三种动画的区别
4. View 绘制流程
5. Vsync 信号、Choreographer、FPS 的计算
6. InputManagerService
7. 泛型、协变和逆变
8. 类加载机制、目的是什么、什么场景会导致类加载
9. 三个线程交替打印数字
10. 二叉树的右视图

#### 字节飞书二面

1. 项目相关
2. 崩溃的处理、Native 崩溃的捕获
3. 热修复
4. ViewModel
5. IOC
6. 隐私 API 的检测

#### 字节 TikTok 一面

1. 项目相关
2. 自定义 ViewPager 流程
3. 事件分发
4. 获取 View 的宽高，为啥 post 后就可以获取到宽高了
5. 启动优化，ASM 插桩
6. 二叉搜索树和双向链表

#### 字节 TikTok 二面

算法题：

```
求最长数对链的长度

题目描述
给出 n 个数对，数对的第二个数字一定比第一个数字大​
对于(a, b) (c,d)两个数对，当 b<c 时，认为可形成一个数对链，记为 (a, b) -> (c,d)​

输入一个数对的集合，请输出能够形成的最长数对链的长度​


例如：​
输入:(1,2)  (3,10)  (4,7) （8, 10）  (11,12)  ​
形成：(1,2) -> (4, 7) ->（8, 10）-> (11,12)​
输出：4​

```

#### 字节 TikTok 社交三面

# 题目描述

设计并实现 - 优先工作队列（Prioritized Work Queue）

队列支持两种操作：

（1）插入带优先级的工作进入队列

（2）从队列中取出最高优先级的工作

相比较一般队列，该队列有两个特殊要求：

（1）公平性：如果插入队列的两个工作有相同的优先级，则先进先出（FIFO）

（2）防止重复工作：如果工作已经在队列，只保留一个
