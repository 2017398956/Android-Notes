---
崩溃优化
---

#### 目录

1. Android 的两种崩溃
2. 如何衡量崩溃
2. ANR
2. 参考

#### Android 的两种崩溃

Android 崩溃分为 Java 崩溃和 Native 崩溃。

简单来说，Java 崩溃就是在 Java 代码中，出现了未捕获异常，导致程序异常退出。那么 Native 崩溃又是怎么产生的呢？一般都是因为在 Native 代码中访问非法地址，也可能是地址对齐出现了问题，或者发生了程序主动 abort，这些都会产生对应的 signal 信号，导致程序异常退出。

##### Java 崩溃

通过实现 UncaughtExceptionHandler 接口，来处理未捕获的异常。

##### Native 崩溃

使用 [Breakpad](https://chromium.googlesource.com/breakpad/breakpad/+/master) 开源项目。

#### ANR

#### 参考

[崩溃优化（下）：应用崩溃了，你应该如何去分析？](https://time.geekbang.org/column/article/70966)

[崩溃优化（上）：关于崩溃那些事儿](https://time.geekbang.org/column/article/70602)

[微信 Android 客户端的 ANR 监控方案](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&mid=2649288031&idx=1&sn=91c94e16460a4685a9c0c8e1b9c362a6&chksm=8334c9ddb44340cb66e6ce512ca41592fb483c148419737dbe21f9bbc2bfc2f872d1e54d1641&scene=178&cur_album_id=1955379810352840707#rd)

[https://developer.android.com/topic/performance/vitals/anr](https://developer.android.com/topic/performance/vitals/anr)

[https://developer.android.com/about/versions/11/features#app-process-exit-reasons](https://developer.android.com/about/versions/11/features#app-process-exit-reasons)

[滴滴出行安卓端 finalize time out 的解决方案](https://www.infoq.cn/article/NxlcJikbFaoTeACHxMQk)

[剖析 SharedPreference app 引起的 ANR 问题](https://mp.weixin.qq.com/s/IFgXvPdiEYDs5cDriApkxQ)

[深入探索 Android 卡顿优化（下）](https://juejin.cn/post/6844904066259091469)

[美团外卖 Android Crash 治理之路](https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651748107&idx=1&sn=55dff1b286e92cfb6aaee776df8ec89e&chksm=bd12ae468a652750a7624c30eca56f6f83347b16cdfb9153b647c6e5229a822b16724a1bbd9d&scene=38#wechat_redirect)

[https://github.com/SalomonBrys/ANR-WatchDog](https://github.com/SalomonBrys/ANR-WatchDog)